!function(n){var t=(window.tabBar=function(n){return new t(n)},function(t){this.wrap=n("#"+t.wrap),this.num=t.num,this.prevBtn=n("#"+t.prevBtn),this.nextBtn=n("#"+t.nextBtn),this.ul=this.wrap.find("ul"),this.li=this.wrap.find("li"),this.len=this.li.length,this.nowIndex=0,this.flag=!0,this.width=parseInt(this.li.width())+parseInt(this.li.css("margin-right")),this.init()});t.prototype={init:function(){var n=this;if(n.len>n.num){if(n.cloneElm(),!(n.ul.find("li").length>n.len))return;n.moveEvent(n.nextBtn,1),n.moveEvent(n.prevBtn,-1)}else n.prevBtn.css({display:"none"}),n.nextBtn.css({display:"none"}),n.ul.css({width:n.len*n.width})},cloneElm:function(){var n=this,t=n.ul.clone().html();n.ul.append(t).prepend(t).css({left:-n.len*n.width,width:3*n.len*n.width})},moveEvent:function(n,t){var i=this,e=t*i.len;n.off().on("click",function(){t<0?(i.nowIndex--,i.nowIndex<e&&i.goBack(t)):(i.nowIndex++,i.nowIndex>e&&i.goBack(t)),i.showPics(i.nowIndex)})},goBack:function(n){var t=this;t.nowIndex=n,t.ul.css({left:-t.len*t.width})},showPics:function(n){var t=this,i=(-n-t.len)*t.width;t.ul.stop(!0,!1).animate({left:i},300,function(){setTimeout(function(){t.flag=!0},200)})}}}(jQuery);